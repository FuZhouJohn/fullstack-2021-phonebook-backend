{"version":3,"sources":["server/persons.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","personObject","post","catch","error","Promise","reject","deleteById","id","delete","update","put","Filter","text","setText","value","onChange","event","target","PersonForm","persons","setPersons","showNotification","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","existedPerson","find","person","name","window","confirm","number","returnedPerson","map","errorMessage","concat","type","Persons","filterText","onDelete","filteredPersons","filter","toLowerCase","indexOf","onClick","Notification","className","message","App","notification","setNotification","useEffect","initialPersons","setFilterText","timeOut","clearTimeout","setTimeout","Person","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.059ee639.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((response) => response.data);\r\n};\r\n\r\nconst create = (personObject) => {\r\n  return axios\r\n    .post(baseUrl, personObject)\r\n    .then((response) => response.data)\r\n    .catch((error) => {\r\n      return Promise.reject(error.response.data.error);\r\n    });\r\n};\r\n\r\nconst deleteById = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\r\n};\r\n\r\nconst update = (id, personObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, personObject)\r\n    .then((response) => response.data)\r\n    .catch((error) => {\r\n      return Promise.reject(error.response.data.error);\r\n    });\r\n};\r\n\r\nconst personService = {\r\n  getAll,\r\n  create,\r\n  deleteById,\r\n  update,\r\n};\r\n\r\nexport default personService;\r\n","const Filter = ({ text, setText }) => {\r\n  const handleTextChange = (event) => {\r\n    setText(event.target.value);\r\n  };\r\n  return (\r\n    <p>\r\n      filter shown with <input value={text} onChange={handleTextChange} />\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import { useState } from \"react\";\r\nimport personService from \"../server/persons\";\r\n\r\nconst PersonForm = ({ persons, setPersons, showNotification }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const existedPerson = persons.find((person) => person.name === newName);\r\n\r\n    if (\r\n      existedPerson &&\r\n      window.confirm(\r\n        `${existedPerson.name} is already added to phonebook, replace the old number with a new one?`\r\n      )\r\n    ) {\r\n      personService\r\n        .update(existedPerson.id, {\r\n          ...existedPerson,\r\n          number: newNumber,\r\n        })\r\n        .then((returnedPerson) => {\r\n          showNotification(\"success\", `Updated ${returnedPerson.name}`);\r\n          setPersons(\r\n            persons.map((person) =>\r\n              person.id !== returnedPerson.id ? person : returnedPerson\r\n            )\r\n          );\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch((errorMessage) => {\r\n          showNotification(\"error\", errorMessage);\r\n        });\r\n      return;\r\n    }\r\n\r\n    const personObject = { name: newName, number: newNumber };\r\n    personService\r\n      .create(personObject)\r\n      .then((returnedPerson) => {\r\n        showNotification(\"success\", `Added ${returnedPerson.name}`);\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      })\r\n      .catch((errorMessage) => {\r\n        showNotification(\"error\", errorMessage);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","const Persons = ({ persons, filterText, onDelete }) => {\r\n  const filteredPersons = persons.filter(\r\n    (person) => person.name.toLowerCase().indexOf(filterText.toLowerCase()) >= 0\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {filteredPersons.map((person) => (\r\n        <p key={person.name}>\r\n          {person.name} {person.number}{\" \"}\r\n          <button onClick={() => onDelete(person)}>delete</button>\r\n        </p>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","const Notification = ({ data }) => {\r\n  if (data === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={data.type}>{data.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import personService from \"./server/persons\";\nimport { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Person\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    // const [notice, setNotice] = useState(null);\n    // const [noticeType, setNoticeType] = useState(\"success\");\n    const [notification, setNotification] = useState(null)\n\n\n    useEffect(() => {\n        personService.getAll().then((initialPersons) => {\n            setPersons(initialPersons);\n        });\n    }, []);\n\n    const [filterText, setFilterText] = useState(\"\");\n    const handleDelete = (person) => {\n        if (window.confirm(`Delete ${person.name} ?`)) {\n            personService.deleteById(person.id).then(() => {\n                setPersons(persons.filter((p) => p.id !== person.id));\n            });\n        }\n    };\n    let timeOut = null;\n    const showNotification = (type, message) => {\n        if (timeOut) clearTimeout(timeOut);\n        setNotification({message, type})\n        timeOut = setTimeout(() => {\n            setNotification(null);\n        }, 5000);\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification data={notification}/>\n            <Filter text={filterText} setText={setFilterText}/>\n            <h3>add a new</h3>\n            <PersonForm\n                persons={persons}\n                setPersons={setPersons}\n                showNotification={showNotification}\n            />\n            <h3>Numbers</h3>\n            <Persons\n                filterText={filterText}\n                persons={persons}\n                onDelete={handleDelete}\n            />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}